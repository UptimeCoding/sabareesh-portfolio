(window.webpackJsonp=window.webpackJsonp||[]).push([[33,34,263,336,355],{1015:function(e,t,n){"use strict";n.r(t);var a=n(2),l=n.n(a),o=n(238),s=n(232),r=n(237),i=n(233),c=(n(240),n(256)),d=e=>{var t,n,d,u,m,p,v,w,b,h,f,x,C,E,y,g,T,[S,O]=Object(a.useState)({error:null,info:""}),[k,N]=Object(a.useState)(null!==(t=null==e||null===(n=e.selectedOption)||void 0===n?void 0:n.response)&&void 0!==t?t:null),[j,I]=Object(a.useState)(!1),[L,P]=Object(a.useState)(!1),[B,R]=Object(a.useState)(null!==(d=null==e?void 0:e.solution)&&void 0!==d?d:null),[q,D]=Object(a.useState)(null),[_,A]=Object(a.useState)(!1),U=e=>(new DOMParser).parseFromString(e,"text/html").documentElement.textContent,V=Object(a.useCallback)(t=>{t.detail===(null==e?void 0:e.csUnitAssnId)&&(A(!0),H("screen:clicked",!1,!1,!0))},[k]);Object(a.useEffect)(()=>{var t;null!=e&&null!==(t=e.content)&&void 0!==t&&t.markdown||null==e||!e.onLoad||e.onLoad()},[]),Object(a.useEffect)(()=>(window.addEventListener("socScreenTimeOver",V,!0),window.addEventListener("socCsReset",F,!0),()=>{window.removeEventListener("socScreenTimeOver",V,!0),window.removeEventListener("socCsReset",F,!0)}),[k]),Object(a.useEffect)(()=>{null!=e&&e.autoSubmitEvent&&D({title:"You can't attempt this question anymore. Please click the <b>Next</b> button to continue"})},[null==e?void 0:e.autoSubmitEvent]);var F=t=>{t.detail===(null==e?void 0:e.csUnitAssnId)&&(I(!0),N(null),R(null),J("screen:reset",null==e?void 0:e.csUnitAssnId))};Object(a.useEffect)(()=>{if(k){var t,n,a,l,o=U(k).trim().length;null!==(t=e.content)&&void 0!==t&&t.minChars&&o<e.content.minChars?O({error:!0,info:"Cannot be fewer than ".concat(e.content.minChars," characters")}):null!==(n=e.content)&&void 0!==n&&n.maxChars&&o>e.content.maxChars?O({error:!0,info:"Cannot be more than ".concat(e.content.maxChars," characters")}):null!==(a=e.content)&&void 0!==a&&a.minChars||null!==(l=e.content)&&void 0!==l&&l.maxChars||!(o>1e5)?null!==S.error&&O({error:!1,info:""}):O({error:!0,info:"Cannot be more than ".concat(1e5," characters")})}},[k]),Object(a.useEffect)(()=>{null!==S.error&&e.setError(S)},[S.error]);var M,z,W=t=>{var n,a;""!=t&&"autograded_text"===e.contentType&&null!=e&&null!==(n=e.content)&&void 0!==n&&n.inputType&&"int"==(null==e||null===(a=e.content)||void 0===a?void 0:a.inputType)&&!s.regexp.numberOnly.test(t)?L||(o.b.error(l.a.createElement(s.ErrorToast,{text:"Invalid input! The answer should be of type Integer"})),P(!0)):L&&P(!1),N(t),I(!1);var r={response:t};"autograded_text"===e.contentType&&(r.selectedVariables=e.content.selectedVariables),e.setResponse(r)},H=function(t){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(a)O({error:null,info:""});else if(S.error)return o.b.error(l.a.createElement(s.ErrorToast,{text:S.info})),!1;i||window.removeEventListener("socScreenTimeOver",V,!0);var c=B?"proceed":"verify";e.showScreenByScreen&&(null==e||null===(n=e.buttonInfo)||void 0===n?void 0:n.text)===window.socTR.Next&&(c="proceed");var d={};d="autograded_text"===e.contentType?{type:c,selectedOption:a?{skip:!0,selectedVariables:e.content.selectedVariables}:{response:k,selectedVariables:e.content.selectedVariables}}:{type:c,selectedOption:a?{skip:!0}:{response:k}},r&&(d.proceed=r),d.autoSubmitEvent=i,J(t,d)},J=(t,n)=>{null!=e&&e.isComplexType&&(t+=":complex");var a=new CustomEvent(t,{detail:n});window.dispatchEvent(a)},Y=!1;e.showScreenByScreen&&null!=e&&e.autoSubmitEvent&&(null==e||null===(u=e.buttonInfo)||void 0===u?void 0:u.text)===window.socTR.Next?Y=!1:Y=e.showScreenByScreen&&(null==e||null===(M=e.buttonInfo)||void 0===M?void 0:M.text)===window.socTR.Next&&(null==e?void 0:e.choicesDisabled)||!k||(null==e||null===(z=e.buttonInfo)||void 0===z?void 0:z.text)!==window.socTR.Next&&(null==e?void 0:e.choicesDisabled);return l.a.createElement("div",{className:"stw-flex stw-flex-col ".concat("lesson"===(null==e?void 0:e.unitType)||null!=e&&e.showScreenByScreen?"":"stw-w-full")},l.a.createElement("div",{key:null==e?void 0:e.csUnitAssnId,className:"".concat(null==e?void 0:e.textCtnClass," stw-relative stw-text-base soc-con-cs-sta")},l.a.createElement("div",{className:"stw-hidden lg:stw-block"},q&&l.a.createElement(r.WarningInfo,q)),l.a.createElement("div",{className:"soc-con-cs-sta__que"},l.a.createElement(r.SetPureHTML,{html:e.content.question,markdown:null===(m=e.content)||void 0===m?void 0:m.markdown,latex:null==e?void 0:e.latex,onLoad:null!=e&&null!==(p=e.content)&&void 0!==p&&p.markdown?null==e?void 0:e.onLoad:null})),l.a.createElement("div",{key:j,className:"stw-mt-4 soc-con-cs-sta__textarea"},"autograded_text"===e.contentType?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{className:"form-input stw-shadow-sm stw-block stw-w-full sm:stw-text-sm stw-rounded-md ".concat(L?"stw-border-red-500 focus:stw-ring-red-500 focus:stw-border-red-500":"focus:stw-ring-indigo-500 focus:stw-border-indigo-500 stw-border-gray-300"),type:"int"===(null==e||null===(v=e.content)||void 0===v?void 0:v.inputType)?"number":"text",value:k,disabled:null==e?void 0:e.choicesDisabled,onChange:e=>{W(e.target.value)},autoFocus:(null==e?void 0:e.showScreenByScreen)&&!(null!=e&&e.choicesDisabled)}),null!=e&&null!==(w=e.content)&&void 0!==w&&w.inputType?l.a.createElement("div",{className:"stw-mt-2 stw-flex stw-flex-row stw-items-center"},l.a.createElement("span",{className:"stw-text-base"},"Expected Answer Type:"),l.a.createElement("span",{className:"stw-ml-1 stw-font-semibold"},"int"===(null==e||null===(b=e.content)||void 0===b?void 0:b.inputType)?"Integer":"String")):""):l.a.createElement(c.default,{key:"d",isContentEditor:!0,disabled:null==e?void 0:e.choicesDisabled,isDisabledCopyPaste:null==e?void 0:e.disableCopyPaste,charLimit:{min:e.content.minChars,max:e.content.maxChars},onEditorChange:W,placeholder:"Answer",type:"q",plainText:"autograded_text"===e.contentType,disabledToolbar:"autograded_text"===e.contentType,defaultText:k,contentType:e.contentType,awsUploadAttributes:{type:"submission",unitId:null==e?void 0:e.unitId},focusOnLoad:!(null!=e&&e.isComplexType)&&(null==e?void 0:e.showScreenByScreen)}))),S.error&&l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("span",{className:"stw-text-red-500 soc-con-quiz_err--msg",style:{display:null!=e&&e.showInlineErrorMessage?"block":"none"}},S.info))),l.a.createElement("div",{className:"stw-flex stw-justify-between stw-text-sm stw-text-gray-600"},l.a.createElement("div",null,(!(null===(h=e.content)||void 0===h||!h.minChars)||!!e.content.maxChars)&&l.a.createElement("span",{className:" soc-sta-letters"},"Chars: ",k?U(k).trim().length:0)),l.a.createElement("div",null,l.a.createElement("span",{className:" soc-sta-letters",style:{color:S.error?"red":""}},!(null===(f=e.content)||void 0===f||!f.minChars)&&!!e.content.maxChars&&l.a.createElement(l.a.Fragment,null,"Allowed Chars: ",e.content.minChars," to ",e.content.maxChars),!(null===(x=e.content)||void 0===x||!x.minChars)&&!e.content.maxChars&&l.a.createElement(l.a.Fragment,null,"Min Chars: ",e.content.minChars),!(null!==(C=e.content)&&void 0!==C&&C.minChars)&&!!e.content.maxChars&&l.a.createElement(l.a.Fragment,null,"Max Chars: ",e.content.maxChars)))),null!=e&&e.feedbackText?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("span",{className:"",style:{display:null!=e&&e.feedbackText?"block":"none"},dangerouslySetInnerHTML:{__html:null===(E=(void 0).props)||void 0===E?void 0:E.feedbackText}}))):"",l.a.createElement("div",{className:"stw-flex stw-flex-row"},null!=e&&e.buttonInfo?l.a.createElement("div",{className:"stw-flex stw-justify-center"},l.a.createElement(r.SubmitButton,{text:null!==(y=null==e||null===(g=e.buttonInfo)||void 0===g?void 0:g.text)&&void 0!==y?y:window.socTR.Submit,disabled:Y,onClick:()=>H("screen:clicked",!1,null==e?void 0:e.showScreenByScreen),customClasses:"".concat(e.submitBtnClassName?e.submitBtnClassName:""," stw-mt-7")})):null,!_&&(null==e?void 0:e.showResetBtnNextToSubmit)&&l.a.createElement(r.Reset,{nextToSubmit:!0,disabled:0!==k&&!k||Y,isScreenByScreenReset:null==e?void 0:e.showScreenByScreen,onClick:()=>{O({error:null,info:""});var t=new CustomEvent("socCsReset",{detail:null==e?void 0:e.csUnitAssnId});window.dispatchEvent(t)}}),(null==e||null===(T=e.buttonInfo)||void 0===T?void 0:T.text)!==window.socTR.Next&&(null==e?void 0:e.showScreenByScreen)&&!(null!=e&&e.nonSkippableContent)&&!(null!=e&&e.choicesDisabled)&&l.a.createElement("div",{className:"stw-flex stw-w-full"},l.a.createElement("button",{onClick:()=>H("screen:clicked",!0),className:"stw-py-1 xs:stw-py-3 stw-px-1 xs:stw-px-6  stw-rounded stw-ml-4 stw-mt-7 soc-sec-btn stw-cursor-pointer soc-con-skip-btn"},l.a.createElement("div",{className:"stw-flex stw-items-center"},"Skip ",l.a.createElement(i.q,{className:"stw-w-4 stw-h-4 xs:stw-w-6 xs:stw-h-6"}))))))};t.default=l.a.memo(d)},256:function(e,t,n){"use strict";n.r(t);var a=n(11),l=n.n(a),o=n(2),s=n.n(o),r=n(288),i=n(297),c=n(298),d=n.n(c),u=n(299),m=n.n(u),p=n(232),v=n(269),w=n(233),b=n(240),h=n(235),f=n.n(h),x=(n(300),n(270)),C=b.a.lib(()=>Promise.all([n.e(20),n.e(380)]).then(n.bind(null,301))),E=e=>{var t,n,a=m()(e.defaultText?String(e.defaultText):""),{contentBlocks:l,entityMap:c}=a,[u,w]=Object(o.useState)(()=>r.EditorState.createWithContent(r.ContentState.createFromBlockArray(l,c))),[b,h]=Object(o.useState)(!0),f=t=>{var n=!0;u.getCurrentContent()===t.getCurrentContent()&&(n=!1),w(t);var a=t.getCurrentContent().hasText()?d()(Object(r.convertToRaw)(t.getCurrentContent())):null,l=e.index?e.index:0;b&&h(!1),n&&e.onEditorChange(e.plainText?t.getCurrentContent().getPlainText():a,l)},[x,E]=(Object(p.debounce)(f,0),Object(o.useState)(null==e?void 0:e.defaultText));Object(o.useEffect)(()=>{E(null==e?void 0:e.defaultText)},[null==e?void 0:e.defaultText]);Object(o.useEffect)(()=>{if(!document.querySelector(".rdw-image-modal .soc-img-preview-info")){var e=document.createElement("p");e.classList.add("stw-font-bold"),e.innerText="Image will resize to this resolution",t=e,(n=document.querySelector(".rdw-image-modal-upload-option"))&&n.parentNode.insertBefore(t,n.nextSibling)}var t,n});var g=null!=e&&e.toolbarOptions?null==e?void 0:e.toolbarOptions:"q"===e.type&&["ls","ts"].includes(e.contentType)?p.toolsLevels.lesson:"a"===e.type?p.toolsLevels.options:p.toolsLevels.default;if(null!=g&&null!==(t=g.image)&&void 0!==t&&t.uploadCallback&&null!=e&&e.awsUploadAttributes){var{type:T,unitId:S,screenLabel:O}=null==e?void 0:e.awsUploadAttributes;g.image.uploadCallback=e=>Object(p.uploadImageCallBack)(e,null,"?type=".concat(T,"&unit_id=").concat(S).concat(O?"&cs_id="+O:""))}var k=null,N=null;return null!=e&&e.isDisabledCopyPaste&&(N=t=>{if(null!=e&&e.isDisabledCopyPaste)return!1},k=t=>{if(null!=e&&e.isDisabledCopyPaste)return!1}),s.a.createElement("div",{className:"soc-rte-outer-container",style:{minWidth:"10rem"}},s.a.createElement("div",{className:"".concat("q"===e.type?"soc-rte-container":"".concat(null!=e&&e.match?"soc-rte-container-1":"soc-rte-container-2"))},null!=e&&e.markdown?s.a.createElement(C,{fallback:s.a.createElement("div",null,"Loading...")},t=>{var{default:n}=t;return s.a.createElement(n,{value:x,height:(null==e?void 0:e.height)||200,onChange:t=>{var n,a;E(t),n=t,a=e.index?e.index:0,e.onEditorChange(n,a)},disabled:null==e?void 0:e.disabled,preview:null!=e&&e.disabled?"preview":"live"})}):s.a.createElement(v.default,{isContentEditor:null!==(n=null==e?void 0:e.isContentEditor)&&void 0!==n&&n},s.a.createElement(i.Editor,{toolbarHidden:!(null==e||!e.disabledToolbar)||b,onBlur:()=>{setTimeout(()=>{h(!0)},200)},editorRef:t=>{t,t&&null!=e&&e.focusOnLoad&&t.focus()},contenteditable:"true",onPaste:N,onCopy:k,stripPastedStyles:!1,readOnly:!!(null!=e&&e.readOnly||null!=e&&e.disabled),toolbar:g,placeholder:e.placeholder?e.placeholder:null,defaultEditorState:u,editorClassName:"".concat((e.type,"stw-p-1 md:stw-p-2 stw-border stw-border-solid stw-rounded stw-mb-2 ".concat(e.readOnly?"stw-border-gray-100":"stw-border-gray-200"))," ").concat(e.wrapperClasses?e.wrapperClasses:""),wrapperClassName:"".concat("q"===e.type?"cs-ques-wrapper":"cs-ans-wrapper"," ").concat(e.wrapperClasses?e.wrapperClasses:""," ").concat(null!=e&&e.isResizable?"rte-resizer":""),onEditorStateChange:f,spellCheck:!0,tabIndex:0,toolbarCustomButtons:null!=e&&e.isDisabledCopyPaste?[]:[s.a.createElement(y,null)]}))))},y=e=>{var t=function(){var t=l()((function*(){var{editorState:t,onChange:a}=e;if(navigator.clipboard){var l=yield navigator.clipboard.readText();n(l,t,a)}}));return function(){return t.apply(this,arguments)}}(),n=(e,t,n)=>{var a=t.getCurrentContent(),l=t.getSelection(),o=r.Modifier.replaceText(a,l,e);n(r.EditorState.push(t,o,"insert-characters"))};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"stw-flex stw-items-center stw-mb-1 stw-relative stw-flex-wrap stw-cursor-pointer stw-pb-1 stw--ml-2",onClick:t,title:"Paste without formatting"},s.a.createElement("div",{className:"rdw-option-wrapper",style:{color:"#000000"}},s.a.createElement(w.v,{className:"stw-h-5 stw-w-5",title:"Paste Without Formatting"}))))};E.propTypes={defaultText:f.a.string,plainText:f.a.bool,onEditorChange:f.a.func.isRequired,isContentEditor:f.a.bool,index:f.a.number,type:f.a.string,toolbarOptions:f.a.object,awsUploadAttributes:f.a.object,contentType:f.a.string,isDisabledCopyPaste:f.a.bool,focusOnLoad:f.a.bool,isResizable:f.a.bool,match:f.a.bool,markdown:f.a.bool,disabled:f.a.bool,readOnly:f.a.bool,disabledToolbar:f.a.bool,placeholder:f.a.string,wrapperClasses:f.a.string},t.default=Object(x.withPropsValidation)(E)},268:function(e,t,n){"use strict";n.r(t),n.d(t,"componentPropsSpecification",(function(){return a}));n(2);var a={RteTextarea:{defaultText:{type:{name:"string",required:!1},description:"",control:"text"},plainText:{},index:{},height:{},type:{},rows:{},charLimit:{},fieldLabel:{},awsUploadAttributes:{},contentType:{},isDisabledCopyPaste:{},isContentEditor:{},focusOnLoad:{},match:{},markdown:{},disabled:{},readOnly:{},height:{},disabledToolbar:{},placeholder:{},isResizable:{},wrapperClasses:{},onEditorChange:{type:{name:"function",required:!0},action:"onChange"},toolbarOptions:{type:{name:"object",required:!1}}}}},269:function(e,t,n){"use strict";n.r(t);var a=n(2),l=n.n(a);class o extends l.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){}render(){var e;return!this.state.hasError||null!==(e=this.props)&&void 0!==e&&e.isContentEditor?this.props.children:l.a.createElement("span",{className:"red-text "},"Error: You seem to have pasted special characters (like Math Symbols). Please retry after removing such characters. Use LaTeX for Math equations. Please delete this screen to start again.")}}t.default=o},270:function(e,t,n){"use strict";n.r(t),n.d(t,"withPropsValidation",(function(){return s}));var a=n(2),l=n.n(a),o=n(268),s=e=>t=>{var{isValid:n,message:a}=(()=>{var n={isValid:!0,message:null},a=e.name,l=o.componentPropsSpecification[a];if(l){var s=Object.keys(l),r=Object.keys(t);for(var i of r)if(!s.includes(i)){n.isValid=!1,n.message="Invalid prop ".concat(i," received");break}}return n})();if(!n)throw new Error(a);return l.a.createElement(e,t)}}}]);