(window.webpackJsonp=window.webpackJsonp||[]).push([[31,224,305,323,326,347],{296:function(e,t,s){"use strict";s.d(t,"a",(function(){return w}));var n,r,o,i,a,l,u,c=s(11),d=s.n(c),m=s(239),p=s(3),h="/user-responses/",w={createResponses:(u=d()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null;try{n=yield Object(m.f)("".concat(h).concat(t),Object(p.convertToSnakeCase)(e),{isEnabledCustomHandling:s})}catch(e){throw new Error(e)}return Object(p.convertToCamelCase)(n.data)})),function(e){return u.apply(this,arguments)}),getResponses:(l=d()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=null;try{s=yield Object(m.c)("".concat(h).concat(e),{isEnabledCustomHandling:t})}catch(e){throw new Error(e)}return Object(p.convertToCamelCase)(s.data)})),function(){return l.apply(this,arguments)}),getResponse:(a=d()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=null;try{s=yield Object(m.c)("".concat(h).concat(e,"/").concat(t))}catch(e){throw new Error(e)}return Object(p.convertToCamelCase)(s.data)})),function(e){return a.apply(this,arguments)}),updateResponses:(i=d()((function*(e,t){var s=null;try{s=yield Object(m.e)("".concat(h).concat(e,"/"),Object(p.convertToSnakeCase)(t))}catch(e){throw new Error(e)}return Object(p.convertToCamelCase)(s.data)})),function(e,t){return i.apply(this,arguments)}),getUnitWiseResponses:(o=d()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=null;try{t=yield Object(m.c)("".concat(h).concat(e))}catch(e){throw new Error(e)}return Object(p.convertToCamelCase)(t.data)})),function(){return o.apply(this,arguments)}),exportUserResponses:(r=d()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=null;try{s=yield Object(m.f)("".concat(h,"export-to-excel/").concat(t),Object(p.convertToSnakeCase)(e),{responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/vnd.ms-excel"}})}catch(e){throw new Error(e)}return s})),function(e){return r.apply(this,arguments)}),exportProctoringSummary:(n=d()((function*(e){var t=null;try{t=yield Object(m.c)("".concat(e),{responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/pdf"}})}catch(e){throw new Error(e)}return t})),function(e){return n.apply(this,arguments)})}},354:function(e,t,s){e.exports=function(){var e={54:function(e,t,s){"use strict";s.r(t),s.d(t,{CountdownCircleTimer:function(){return D}});var n=s(297),r=s.n(n),o=function(e){return{position:"relative",width:e,height:e}},i={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},a=function(e){return e.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)},l=function(e,t){return"Invalid prop '".concat(e,"' supplied to '").concat(t,"'")},u=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"array";return new Error("".concat(l(e,t),". Expect ").concat("array"===s?"an array of tuples where the first element is a":""," HEX color code string.\n ."))},c=function(e,t){return 0===t?0:"number"==typeof e?t-e:0},d=s(980),m=s.n(d),p={duration:m().number.isRequired,colors:function(e,t,s){var n=e[t];return"string"==typeof n?function(e,t,s){if(!a(e))return u(t,s,"string")}(n,t,s):function(e,t,s){for(var n=0;n<e.length;n+=1){var r=e[n][0],o=e[n][1];if(!a(r))return u(t,s);if(!(void 0===o||o>=0&&o<=1))return new Error("".concat(l(t,s),".\n        Expect an array of tuples where the second element is a number between 0 and 1 representing color transition duration."))}}(n,t,s)},children:m().oneOfType([m().func,m().node]),size:m().number,strokeWidth:m().number,trailStrokeWidth:m().number,trailColor:m().string,isPlaying:m().bool,strokeLinecap:m().oneOf(["round","square"]),isLinearGradient:m().bool,gradientUniqueKey:m().string,onComplete:m().func,ariaLabel:m().string,renderAriaTime:m().func,initialRemainingTime:m().number,rotation:m().oneOf(["clockwise","counterclockwise"])};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function w(e,t){if(e){if("string"==typeof e)return f(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}var v=function(e){var t=e.gradientId,s=e.colors,n=e.defs,o=void 0===n?"defs":n,i=e.linearGradient,a=void 0===i?"linearGradient":i,l=e.stop,u=void 0===l?"stop":l;return r().createElement(o,null,r().createElement(a,{id:t,x1:"1",y1:"0",x2:"0",y2:"0"},function(e){var t="string"==typeof e;if(t||1===e.length)return[{offset:1,stopColor:t?e:e[0][0],key:0}];var s,n=e.length,r=0;return[{offset:0,stopColor:e[0][0],key:0}].concat(function(e){if(Array.isArray(e))return f(e)}(s=e.map((function(e,t){var s,o=(2,function(e){if(Array.isArray(e))return e}(s=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(s.push(i.value),2!==s.length);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return s}}(s)||w(s,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return r+=a,{offset:n===t+1?1:r,stopColor:i,key:t+1}})))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(s)||w(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}(s).map((function(e){return r().createElement(u,h({},e,{key:e.key}))}))))},g=m().oneOfType([m().func,m().string]);v.propTypes={gradientId:m().string.isRequired,colors:p.colors,defs:g,linearGradient:g,stop:g};var b=s(592),y=function(e,t,s,n){return 0===n?s:t+s*(e/n)};function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(Object(s),!0).forEach((function(t){x(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function x(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var T=function(e){var t=e.r,s=e.g,n=e.b,r=e.opacity;return"rgba(".concat(t,", ").concat(s,", ").concat(n,", ").concat(r,")")},C=function(e,t){if(1===e.length)return T(e[0]);var s=e.find((function(e){var s=e.colorEndTime;return t<=s}));if(void 0===s.duration)return T(s);var n=t-s.colorStartTime,r=0|y(n,s.r,s.goalR,s.duration),o=0|y(n,s.g,s.goalG,s.duration),i=0|y(n,s.b,s.goalB,s.duration);return T({r:r,g:o,b:i,opacity:s.opacity})},O={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:0,clip:"rect(0 0 0 0)",padding:0,overflow:"hidden",whiteSpace:"nowrap",wordWrap:"normal"};function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(s.push(i.value),!t||s.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}var q=function(e){var t=e.isPlaying,s=e.size,r=e.strokeWidth,a=e.duration,l=e.initialRemainingTime,u=e.colors,d=e.isLinearGradient,m=e.gradientUniqueKey,p=e.onComplete,h=e.rotation,w=(0,n.useRef)({duration:a,startAt:c(l,a)}).current,f=w.duration,v=w.startAt,g=(0,n.useMemo)((function(){return function(e,t,s){var n=e/2,r=t/2,o=n-r,i=2*o,a="clockwise"===s?"1,0":"0,1",l=2*Math.PI*o;return{path:"m ".concat(n,",").concat(r,"\n          a ").concat(o,",").concat(o," 0 ").concat(a," 0,").concat(i,"\n          a ").concat(o,",").concat(o," 0 ").concat(a," 0,-").concat(i),pathLength:l}}(s,r,h)}),[s,r,h]),S=g.path,x=g.pathLength,I=(0,n.useMemo)((function(){return function(e,t,s){var n=function(e,t){var s=function(e){return e.map((function(e){var t=e[0].replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,s,n){return"#".concat(t).concat(t).concat(s).concat(s).concat(n).concat(n)})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)}));return[{r:t[0],g:t[1],b:t[2],opacity:1},e[1]]}))}(e);if(!t)return s;var n=0;return s.map((function(e,t){var r=s.length===t+1,o="0%";if(t>0){var i=s[t-1][1],a=Math.round(100*i);(n+=a)>100||r?(n=100,o="100%"):o="".concat(n,"%")}var l={offset:o,stopColor:T(e[0]),key:t};return[E(E({},e[0]),{},{gradient:l}),e[1]]}))}("string"==typeof e?[[e,1]]:e,s),r=0;return n.map((function(e,s){var o=n.length===s+1;if(r>=t||o)return r=t,E(E({},e[0]),{},{colorEndTime:r});var i=r,a=void 0!==e[1]?i+e[1]*t:t,l=a>=t?t:a,u=n[s+1][0],c={goalR:u.r-e[0].r,goalG:u.g-e[0].g,goalB:u.b-e[0].b};return r=l,E(E(E({},e[0]),c),{},{colorStartTime:i,colorEndTime:l,duration:l-i})}))}(u,f,d)}),[u,f,d]),q=(0,n.useMemo)((function(){return function(e){return"countdown-circle-timer-gradient-".concat(e||Math.random().toString(36).substring(2))}(m)}),[m]),A=(0,b.useElapsedTime)(t,{duration:f,startAt:v,onComplete:"function"==typeof p?function(){var e=p.apply(void 0,arguments)||[],t=k(e,2),s=t[0],n=void 0!==s&&s,r=t[1],o=void 0===r?0:r;return{shouldRepeat:n,delay:o/1e3,newStartAt:0}}:void 0}).elapsedTime;return{path:S,pathLength:x,gradientId:q,stroke:C(I,A),strokeDashoffset:y(A,0,x,f),timeProps:{remainingTime:Math.ceil(f-A),elapsedTime:A},styles:{wrapperStyle:o(s),timeStyle:i,visuallyHidden:O}}};function A(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?A(Object(s),!0).forEach((function(t){P(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var D=function(e){var t=e.size,s=e.strokeWidth,n=e.trailStrokeWidth,o=e.trailColor,i=e.duration,a=e.isPlaying,l=e.colors,u=e.strokeLinecap,c=e.children,d=e.isLinearGradient,m=e.gradientUniqueKey,p=e.onComplete,h=e.ariaLabel,w=e.renderAriaTime,f=e.initialRemainingTime,g=e.rotation,b=q({isPlaying:a,size:t,strokeWidth:Math.max(s,null!=n?n:0),duration:i,initialRemainingTime:f,colors:l,isLinearGradient:d,gradientUniqueKey:m,onComplete:p,rotation:g}),y=b.path,S=b.pathLength,E=b.stroke,x=b.strokeDashoffset,T=b.gradientId,C=b.styles,O=b.timeProps;return r().createElement("div",{style:C.wrapperStyle,"aria-label":h},r().createElement("svg",{width:t,height:t,xmlns:"http://www.w3.org/2000/svg"},d&&r().createElement(v,{colors:l,gradientId:T}),r().createElement("path",{d:y,fill:"none",stroke:o,strokeWidth:null!=n?n:s}),r().createElement("path",{d:y,fill:"none",stroke:d?"url(#".concat(T,")"):E,strokeLinecap:u,strokeWidth:s,strokeDasharray:S,strokeDashoffset:x})),null!==c&&r().createElement("div",{"aria-hidden":"true",style:_(_({},C.timeStyle),{},{color:E})},r().isValidElement(c)?r().cloneElement(r().Children.only(c),O):c(O)),"function"==typeof w&&r().createElement("div",{role:"timer","aria-live":"assertive",style:C.visuallyHidden},w(O)))};D.propTypes=p,D.defaultProps={size:180,strokeWidth:12,trailColor:"#d9d9d9",isPlaying:!1,strokeLinecap:"round",isLinearGradient:!1,ariaLabel:"Countdown timer",children:null,rotation:"clockwise"},D.displayName="CountdownCircleTimer"},262:function(e,t,s){"use strict";var n=s(586);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,s,r,o,i){if(i!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return s.PropTypes=s,s}},980:function(e,t,s){e.exports=s(262)()},586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},592:function(e,t,s){e.exports=function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([function(e,t){e.exports=s(297)},function(e,t,s){"use strict";s.r(t),s.d(t,"useElapsedTime",(function(){return i}));var n=s(0);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(s.push(i.value),!t||s.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.duration,o=t.onComplete,i=t.startAt,l=void 0===i?0:i,u=t.autoResetKey,c=Object(n.useState)(l),d=r(c,2),m=d[0],p=d[1],h=Object(n.useRef)(-1e3*l),w=Object(n.useRef)(null),f=Object(n.useRef)(null),v=Object(n.useRef)(null),g=Object(n.useRef)(!1),b=Object(n.useRef)(!1),y=Object(n.useRef)(0),S=Object(n.useCallback)((function(e){y.current+=1,p("number"==typeof e?e:l)}),[]),E=function e(t){var n=t/1e3;if(null===f.current)return f.current=n,void(w.current=requestAnimationFrame(e));var r=n-f.current;if(f.current=n,p((function(e){var t=e+r;return"number"!=typeof s||t<s?t:(b.current=!0,s)})),b.current){if("function"==typeof o){h.current+=1e3*s;var i=h.current/1e3,a=o(i)||{},l=a.shouldRepeat,u=void 0!==l&&l,c=a.delay,d=void 0===c?0:c,m=a.newStartAt;u&&g.current&&(v.current=setTimeout((function(){S(m)}),1e3*d))}}else w.current=requestAnimationFrame(e)},x=function(){cancelAnimationFrame(w.current),clearTimeout(v.current),f.current=null};return a((function(){return e&&(w.current=requestAnimationFrame(E)),x}),[e]),a((function(){e&&g.current&&(x(),w.current=requestAnimationFrame(E))}),[s]),a((function(){g.current&&S()}),[u]),a((function(){e&&b.current&&(x(),w.current=requestAnimationFrame(E)),b.current=!1}),[y.current]),a((function(){return g.current=!0,function(){g.current=!1}}),[]),{elapsedTime:m,reset:S}},a="undefined"==typeof window?n.useEffect:n.useLayoutEffect}])},297:function(e){"use strict";e.exports=s(2)}},t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(54)}()},357:function(e,t,s){"use strict";function n(e,t){if(!e)return!1;var s=Object.keys(e).map(Number);return t!==Math.max(...s)}s.r(t),s.d(t,"isInternalNavigation",(function(){return n})),s.d(t,"secondsToHMS",(function(){return r})),s.d(t,"setHistoryStateFromState",(function(){return o}));var r=e=>{var t=e=>(e<10?"0":"")+e;return(e<0?"-":"")+t((e=Math.abs(e))/3600|0)+":"+t(e%3600/60|0)+":"+t(e%60)};function o(e){var t={};return["answerCorrect","buttonInfo","choicesDisabled","contentType","correctAnswer","csUnitAssnId","feedbackAvailable","feedbackTimeout","gotItBtnTimeout","isContentLoaded","lsContent","maxAccessibleInd","mediaData","scInd","scName","selectedOption","showCreateLessonPopup","shuffleOptions","shuffleTimeoutOff","unShownCS","unShownMedia","unShownType","solution","accessibleContent"].forEach((function(s){t[s]=e[s]})),t}},397:function(e,t,s){"use strict";s.r(t);var n=s(2),r=s.n(n),o=s(233);t.default=e=>{var{text:t,onCloseClick:s}=e;return r.a.createElement("div",{className:"stw-relative stw-bg-indigo-600"},r.a.createElement("div",{className:"stw-max-w-7xl stw-mx-auto stw-py-3 stw-px-3 sm:stw-px-6 lg:stw-px-8"},r.a.createElement("div",{className:"stw-pr-16 sm:stw-text-center sm:stw-px-16"},r.a.createElement("p",{className:"stw-font-medium stw-text-white"},r.a.createElement("span",{className:"stw-inline"},t),r.a.createElement("span",{className:"stw-block sm:stw-ml-2 sm:stw-inline-block"},r.a.createElement("a",{href:"/account/login?next_url=".concat(window.location.href),className:"stw-text-white stw-font-bold stw-underline"},"Login ",r.a.createElement("span",{"aria-hidden":"true"},"→"))))),r.a.createElement("div",{className:"stw-absolute stw-inset-y-0 stw-right-0 stw-pt-1 stw-pr-1 stw-flex stw-items-start sm:stw-pt-1 sm:stw-pr-2 sm:stw-items-start"},r.a.createElement("button",{type:"button",className:"stw-flex stw-p-2 stw-rounded-md hover:stw-bg-indigo-500 focus:stw-outline-none focus:stw-ring-2 focus:stw-ring-white",onClick:s},r.a.createElement("span",{className:"stw-sr-only"},"Dismiss"),r.a.createElement(o.pb,{className:"stw-h-6 stw-w-6 stw-text-white","aria-hidden":"true"})))))}},918:function(e,t,s){"use strict";s.r(t);var n=s(234),r=s.n(n),o=s(11),i=s.n(o),a=s(0),l=s.n(a),u=s(2),c=s.n(u),d=s(19),m=s(926),p=s(928),h=s(232),w=s(273),f=s.n(w),v=s(357),g=s(3),b=s(245),y=s(354),S=s(927),E=s(238),x=s(338),T=s(296),C=s(233),O=s(7),k=s(397),I=s(240),q=s(237),A=s(4),_=s(993),P=s(446);function D(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function j(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?D(Object(s),!0).forEach((function(t){l()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var N=Object(I.a)(()=>s.e(49).then(s.bind(null,1122)),{fallback:c.a.createElement("div",{className:"stw-flex stw-justify-center stw-p-4"},c.a.createElement("img",{src:"https://cdn.socratease.co/img/ring-loader.gif"}))}),z=Object(I.a)(()=>s.e(50).then(s.bind(null,1123)),{fallback:c.a.createElement("div",{className:"stw-flex stw-justify-center stw-p-4"},c.a.createElement("img",{src:"https://cdn.socratease.co/img/ring-loader.gif"}))}),R=Object(I.a)(()=>Promise.all([s.e(11),s.e(23),s.e(398)]).then(s.bind(null,994)),{fallback:c.a.createElement("div",{className:"stw-flex stw-justify-center stw-p-4"},c.a.createElement("img",{src:"https://cdn.socratease.co/img/ring-loader.gif"}))}),Q=Object(I.a)(()=>s.e(63).then(s.bind(null,1121)),{fallback:c.a.createElement("div",{className:"stw-flex stw-justify-center stw-p-4"},c.a.createElement("img",{src:"https://cdn.socratease.co/img/ring-loader.gif"}))});class M extends u.Component{constructor(e){var t;super(e),t=this,l()(this,"handleScroll",e=>{document.querySelector(".soc-con-quiz-header__thumbnail")&&(window.scrollY?(document.querySelector(".soc-con-quiz-header__thumbnail").style.display="none",document.querySelector(".soc-con-quiz-header__right").classList.add("stw-w-full"),document.querySelector(".soc-con-quiz-header__right").classList.remove("stw-w-11/12"),document.querySelector(".soc-con-quiz-header__right").classList.remove("md:stw-ml-8"),document.querySelector(".soc-con-quiz-header__right").classList.remove("stw-ml-5")):(document.querySelector(".soc-con-quiz-header__thumbnail").style.display="block",document.querySelector(".soc-con-quiz-header__right").classList.add("stw-w-11/12"),document.querySelector(".soc-con-quiz-header__right").classList.remove("stw-w-full"),document.querySelector(".soc-con-quiz-header__right").classList.add("md:stw-ml-8"),document.querySelector(".soc-con-quiz-header__right").classList.add("stw-ml-5")))}),l()(this,"handleCopyPaste",()=>{document.body.addEventListener("copy",(function(e){E.b.error(c.a.createElement(h.ErrorToast,{text:"Copying and Pasting has been disabled on this test."})),e.preventDefault()})),document.body.addEventListener("paste",(function(e){E.b.error(c.a.createElement(h.ErrorToast,{text:"Copying and Pasting has been disabled on this test."})),e.preventDefault()}))}),l()(this,"initSetInitialState",function(){var e=i()((function*(e,s){var n,r,o,i,a,l,u,c,d,m,{unitDetails:p,screenDetails:{accessibleContent:w},attemptDetails:f}=e,v=!1;if(null!=f&&f.responseFileUploadUrl&&(v=!0),null!=p&&null!==(n=p.settings)&&void 0!==n&&n.parseLatex)try{yield Object(h.enableLatex)()}catch(e){throw new Error(e)}null!=p&&null!==(r=p.settings)&&void 0!==r&&r.disableCopyPaste&&t.handleCopyPaste();var g=w.length;g||"offline_quiz"!==p.type||w.push({screenId:null,contentType:"file_upload",contents:{description:"Question paper",media:{url:p.metaData.fileUploadUrl}},csUnitAssnId:null,numPoints:null==p?void 0:p.numPoints,screenIndex:1});var b=w[g-1],y=t.getOfflineQuestionsNumber(w),S=[],E=w;if(null!=p&&null!==(o=p.settings)&&void 0!==o&&o.randomiseQuestions&&(E=O.default.shuffle(E)),E.length&&(E=E.map(e=>{var t,s,n,r,o;return null!==(t=e.contents)&&void 0!==t&&t.choices&&"survey"!==e.contentType&&null!=e&&null!==(s=e.contents)&&void 0!==s&&s.randomizeOptions?j(j({},e),{},{contents:j(j({},e.contents),{},{choices:O.default.shuffle(e.contents.choices)})}):null!=e&&e.contents&&"categorize"===(null==e?void 0:e.contentType)&&null!=e&&null!==(n=e.contents)&&void 0!==n&&n.randomizeOptions?j(j({},e),{},{contents:j(j({},e.contents),{},{items:O.default.shuffle(e.contents.items)})}):null!=e&&e.contents&&"match"===(null==e?void 0:e.contentType)&&null!=e&&null!==(r=e.contents)&&void 0!==r&&r.randomizeOptions?j(j({},e),{},{contents:j(j({},e.contents),{},{leftColumn:O.default.shuffle(e.contents.leftColumn)})}):null!=e&&e.contents&&["comprehension_passage","answer_any","document_render"].includes(null==e?void 0:e.contentType)&&null!=e&&null!==(o=e.contents)&&void 0!==o&&o.randomizeOptions?j(j({},e),{},{contents:j(j({},e.contents),{},{childScreens:O.default.shuffle(e.contents.childScreens)})}):e})),null!=f&&f.draftResponsesS3){var x,T,C,k,I,q;if(null!=f&&null!==(x=f.draftResponsesS3)&&void 0!==x&&x.responses&&null!=f&&null!==(T=f.draftResponsesS3)&&void 0!==T&&T.responses.length)S=null==f||null===(I=f.draftResponsesS3)||void 0===I?void 0:I.responses;if(null!=f&&null!==(C=f.draftResponsesS3)&&void 0!==C&&C.questions&&null!=f&&null!==(k=f.draftResponsesS3)&&void 0!==k&&k.questions.length)E=null==f||null===(q=f.draftResponsesS3)||void 0===q?void 0:q.questions}t.responses=S;var A,_,P,D,N,z,R=!!(null!=p&&null!==(i=p.settings)&&void 0!==i&&i.showScreenByScreen||"coding_challenge"==(null==p?void 0:p.type));null!==(a=t.context)&&void 0!==a&&null!==(l=a.config)&&void 0!==l&&null!==(u=l.admin)&&void 0!==u&&u.quizRenderType&&(R="showAllAtOnce"!==(null===(A=t.context)||void 0===A||null===(_=A.config)||void 0===_||null===(P=_.admin)||void 0===P?void 0:P.quizRenderType)&&"showScreenByScreen"===(null===(D=t.context)||void 0===D||null===(N=D.config)||void 0===N||null===(z=N.admin)||void 0===z?void 0:z.quizRenderType));t.setState({loading:!1,questions:E,visibleQuestions:E,attemptDetails:f,currentQ:b,numQs:g,numAnswered:S.length,unitDetails:p,attemptNum:null==f?void 0:f.attemptNum,quizTimer:t.getCurrentTimeInSeconds(f),hasOfflineQuestion:v,responseFileUploadUrl:null!==(c=null==f?void 0:f.responseFileUploadUrl)&&void 0!==c?c:null,filesUploaded:(null==f||!f.responseFileUploadUrl)&&null,numberOfOfflineQuestions:y,draftResponsesUrl:null!==(d=null==f?void 0:f.draftResponsesUrl)&&void 0!==d?d:"",draftResponsesS3:null==f?void 0:f.draftResponsesS3,extraTimeWarning:!(null==f||!f.duration||null!=p&&null!==(m=p.settings)&&void 0!==m&&m.autoSubmit||!(Number(null==f?void 0:f.elapsedTime)>Number(null==f?void 0:f.duration))),showScreenByScreen:R,isCodingType:"coding_challenge"==(null==p?void 0:p.type),screenDetails:null==e?void 0:e.screenDetails,isProctoringStarted:!0},()=>{var n;if(Socratease.onReady({src:"contentQuiz"}),t.addCustomEventListener(),null!=p&&null!==(n=p.settings)&&void 0!==n&&n.detectTabSwitch&&t.initTabTracking(),R&&"coding_challenge"!==(null==p?void 0:p.type)||t.initSavingData(),s){var r=setInterval(()=>{"video_interview"!==e.unitDetails.type?(document.getElementsByClassName("soc-con-quiz-header__title").length&&(clearInterval(r),null!==document.getElementsByClassName("soc-con-quiz-header__title")&&document.getElementsByClassName("soc-con-quiz-header__title")[0].parentNode.append(document.getElementById("proctor-feedback"))),document.getElementsByClassName("soc-programming-output-title").length&&(clearInterval(r),null!==document.getElementsByClassName("soc-programming-output-title")&&document.getElementsByClassName("soc-programming-output-title")[0].parentNode.append(document.getElementById("proctor-feedback")))):"video_interview"===e.unitDetails.type&&(document.getElementsByClassName("soc-con-vid-interview-intro").length||document.getElementsByClassName("soc-con-vid-permission__title").length||document.getElementsByClassName("soc-con-quiz-header__title").length)&&clearInterval(r)},200);document.getElementById("proctor-feedback").style.display="flex",document.getElementsByClassName("soc-lay-ctr")[0].classList.add("stw-h-screen","stw-overflow-y-auto")}})}));return function(t,s){return e.apply(this,arguments)}}()),l()(this,"initTabTracking",()=>{this.tabSetInterval=setInterval(this.tabTrackingIntervalFn,3)}),l()(this,"tabTrackingIntervalFn",()=>{var e,t,s=document.visibilityState,n=this.state.visibilityState,r=A.socStorage.getItem("con.ups[".concat(this.state.attemptDetails.userProgressId,".numTabSwitches"))||this.state.tabLostCount;r=Number(r);var o=Number(null===(e=this.state.unitDetails)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.tabSwitchAutoSubmitLimit);s!==n&&("hidden"===s&&(r++,A.socStorage.setItem("con.ups[".concat(this.state.attemptDetails.userProgressId,".numTabSwitches"),r),r>o&&(clearInterval(this.tabSetInterval),this.setState({testAutomaticallySubmitted:!0},()=>{this.callSubmitQuizApi()})),E.b.error(c.a.createElement(h.ErrorToast,{text:"If you continue to leave this window, the quiz will be auto-submitted."}))),this.setState({visibilityState:s,tabLostCount:r}))}),l()(this,"addCustomEventListener",()=>{}),l()(this,"filterReset",()=>{var e=O.default.cloneDeep(this.state.questions);this.setState({visibleQuestions:e,selectedFilter:""})}),l()(this,"showMarkedForReviewQs",e=>{var t=O.default.cloneDeep(this.state.questions);this.setState({visibleQuestions:t,selectedFilter:e},()=>{if(e){var s=this.getMarkedForReviewQs();this.setState({visibleQuestions:s})}else this.setState({visibleQuestions:t})})}),l()(this,"showAttemptedQs",e=>{var t=O.default.cloneDeep(this.state.questions);this.setState({visibleQuestions:t,selectedFilter:e},()=>{if(e){var s=this.getAttemptedQs();this.setState({visibleQuestions:s})}else this.setState({visibleQuestions:t})})}),l()(this,"showOnlyUnattemptedQuestions",e=>{var t=O.default.cloneDeep(this.state.questions);this.setState({visibleQuestions:t,selectedFilter:e},()=>{if(e){var s=this.getUnattemptedQuestions();this.setState({visibleQuestions:s})}else this.setState({visibleQuestions:t})})}),l()(this,"shouldUpdateS3",()=>{var e=JSON.stringify(O.default.cloneDeep(this.state.draftResponsesS3)),t={responses:O.default.cloneDeep(this.responses),questions:O.default.cloneDeep(this.state.questions)};return!(e===(t=JSON.stringify(t)))}),l()(this,"initSavingData",()=>{try{this.state.draftResponsesUrl&&(this.draftTimeOut=setInterval(()=>{if(this.shouldUpdateS3()){var e={responses:this.responses,questions:this.state.questions};Object(S.saveAsDraft)(this.state.draftResponsesUrl,e,()=>{this.setState({draftResponsesS3:e})})}},3e4))}catch(e){throw new Error(e)}}),l()(this,"getCurrentTimeInSeconds",(e,t)=>null!=e&&e.duration?Number(null==e?void 0:e.duration)-(null!=e&&e.elapsedTime?Number(null==e?void 0:e.elapsedTime):0):null),l()(this,"getOfflineQuestionsNumber",e=>e.filter(e=>"file_upload"===e.contentType).length),l()(this,"handleClose",()=>this.setState({showModal:!this.state.showModal})),l()(this,"handleShow",()=>this.setState({showModal:!this.state.showModal})),l()(this,"updateQuestionsStatus",e=>{var{screenId:t,chosenAnswer:s,isCorrectAnswer:n,attempted:r,points:o,correctAnswer:i,markedForReview:a,errorObj:l}=e,u=O.default.cloneDeep(this.state.questions),c=O.default.find(u,{screenId:t}),d=u.findIndex(e=>e.screenId===t);c.chosenAnswer=s,c.isCorrectAnswer=n,c.attempted=r,c.points=o,c.screenId=t,c.correctAnswer=i,c.markedForReview=a,c.errorObj=null!=l?l:{error:!1,info:""},-1===d?u.push(c):u.splice(d,1,c),this.setState({questions:u},()=>{var e=this.getUnattemptedQuestions().length;this.setNumberAns(this.state.numQs-e),this.setNumberCorrect(this.getCorrectlyAnswered().length)})}),l()(this,"setNumberAns",e=>{this.setState({numAnswered:e})}),l()(this,"setNumberCorrect",e=>{this.setState({numCorrect:e})}),l()(this,"getUnattemptedQuestions",()=>O.default.cloneDeep(this.state.questions).filter(e=>!(void 0!==e.gotCorrectAnswer||!!e.attempted&&e.attempted))),l()(this,"getCorrectlyAnswered",()=>O.default.cloneDeep(this.state.questions).filter(e=>e.isCorrectAnswer?e.isCorrectAnswer:e.gotCorrectAnswer)),l()(this,"getWrongAnswered",()=>O.default.cloneDeep(this.state.questions).filter(e=>!1===(void 0!==e.isCorrectAnswer?e.isCorrectAnswer:e.gotCorrectAnswer))),l()(this,"getAttemptedQs",()=>O.default.cloneDeep(this.state.questions).filter(e=>e.attempted)),l()(this,"getMarkedForReviewQs",()=>O.default.cloneDeep(this.state.questions).filter(e=>e.markedForReview)),l()(this,"setResponses",(e,t,s)=>{var n=O.default.cloneDeep(this.responses),r=n.findIndex(e=>e.screenId===t);-1!==r?n.splice(r,1,e):n.push(e),this.responses=n,this.updateQuestionsStatus(s)}),l()(this,"validateResponses",()=>{var e=O.default.cloneDeep(this.state.questions);document.querySelectorAll(".soc-error-border").forEach(e=>{e.classList.remove("soc-error-border")});var t=!1;for(var s of(document.querySelector(".soc-con-quiz_err--msg")&&(document.querySelector(".soc-con-quiz_err--msg").style.display="block"),e)){var n;if(null!=s&&s.errorObj&&s.errorObj.error){t=!0;var r=document.getElementById("question-"+s.screenId);r.classList.add("soc-error-border"),r&&r.scrollIntoView({block:"center"});break}if(null!=s&&null!==(n=s.contents)&&void 0!==n&&n.nonSkippableContent&&(null==s||!s.attempted)){t=!0;var o=document.getElementById("question-"+s.screenId);o.classList.add("soc-error-border"),o&&o.scrollIntoView({block:"center"}),E.b.error(c.a.createElement(h.ErrorToast,{text:"You cannot skip this question"}));break}}return t}),l()(this,"submitQuiz",()=>!this.validateResponses()&&(this.state.numAnswered||null!==this.state.filesUploaded?null===this.state.filesUploaded||this.state.filesUploaded?void this.submitQuizResponses():(f.a.fire({text:"You haven't uploaded any answer pdf. Do you want to proceed with submission?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.isConfirmed&&this.submitQuizResponses()}),!1):(f.a.fire({title:"",text:"You haven't attempted any question. Do you want to proceed with submission?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.isConfirmed&&this.submitQuizResponses()}),!1))),l()(this,"submitQuizResponses",(function(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"timeout"===s?t.setState({testAutomaticallySubmitted:!0,loading:!0},()=>{t.callSubmitQuizApi()}):f.a.fire({text:null!==(e=t.props)&&void 0!==e&&e.showQuestionsOnly?"Proceed with submitting the answers?":"Are you sure you want to submit this test?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.isConfirmed&&!t.state.testAutomaticallySubmitted?(t.setState({loading:!0}),t.callSubmitQuizApi()):f.a.close()})})),l()(this,"processResponse",e=>{var t=0;for(var{contentType:s,response:n}of e){if("cloze_mc_single_set"===s&&n){if(void 0!==n.chosenIndices&&null!==(null==n?void 0:n.chosenIndices)){var r=n.chosenIndices.sort((e,t)=>e.index-t.index);e[t].response={chosenIndices:r.map(e=>null==e?void 0:e.choice)}}}else if("match"===s&&n){if(void 0!==n.chosenIndices&&null!==(null==n?void 0:n.chosenIndices)){var o=n.chosenIndices.sort((e,t)=>e.answer-t.answer);e[t].response={chosenIndices:o.map(e=>null==e?void 0:e.match)}}}else if("typing_test"===s&&n){var i,a;"iOS"===Object(q.getCurrentOS)()&&(e[t].response.response=n.response.replace("”",'"').replace("’","'")),null!==(i=e[t])&&void 0!==i&&null!==(a=i.response)&&void 0!==a&&a.typingHistory&&delete e[t].response.typingHistory}t++}return e}),l()(this,"callSubmitQuizApi",i()((function*(){var e,s,n,r,o,a,l=t.props.lookupKey?t.props.lookupKey:void 0,u=t.props.lookupKey2?t.props.lookupKey2:void 0,d=O.default.cloneDeep(t.responses),m={unitId:t.state.unitDetails.unitId,responses:t.responses.length?t.processResponse(d):void 0,fileUploaded:null!==(e=t.state.filesUploaded)&&void 0!==e&&e,lookupKey:l,lookupKey2:u,isCustomEndingEnabled:(null===(s=t.state.unitDetails.settings)||void 0===s?void 0:s.customEnding)&&(null===(n=t.state.unitDetails.settings)||void 0===n||null===(r=n.customEnding)||void 0===r?void 0:r.template),finalSubmission:!0},p=null!==(o=null===(a=t.props)||void 0===a?void 0:a.assessmentProgressId)&&void 0!==o?o:null;p&&(m.apId=p),null!=A.socStorage.getItem("con.classroomLabel")&&"student"==window.userInfo.role&&(m=j(j({},m),{},{classroom_id:"".concat(A.socStorage.getItem("con.classroomLabel"))})),m=Object(g.convertToSnakeCase)(m);try{var w,v,b,y=yield T.a.createResponses(m);A.socStorage.removeItem("con.ups[".concat(t.state.attemptDetails.userProgressId)),m.gradeReleaseMethod=null===(w=t.state.unitDetails)||void 0===w||null===(v=w.settings)||void 0===v?void 0:v.gradeReleaseMethod,m.testAutomaticallySubmitted=t.state.testAutomaticallySubmitted,clearInterval(t.draftTimeOut),clearTimeout(t.responseSubmitRetryTimout),clearInterval(t.tabSetInterval),void 0!==(null===(b=t.state)||void 0===b?void 0:b.autoProctorTest)?(document.getElementById("proctor-feedback")&&(document.getElementById("proctor-feedback").style.display="none"),t.state.autoProctorTest.stop(),window.addEventListener("apStopMonitoring",i()((function*(){window.Socratease.callback("unit.submitted",[y,m],t.handleAfterResponse)})))):window.Socratease.callback("unit.submitted",[y,m],t.handleAfterResponse)}catch(e){t.responseSubmitRetryTimout=setTimeout(()=>{if(!(t.retryCount<1)){var s,n;t.retryCount=0,t.setState({loading:!1});var r="";throw r=null!=e&&e.response?"Something went wrong while submitting the Quiz. Please try again":null!=e&&e.request?"Some error, either on the server or while connecting to the server. Please try to submit again":"Unable to submit the responses. Please try again",null!==(s=t.state.unitDetails)&&void 0!==s&&null!==(n=s.settings)&&void 0!==n&&n.autoSubmit?f.a.fire({text:r,showCancelButton:!1,confirmButtonText:"Submit",showCloseButton:!1,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&(t.setState({loading:!0}),t.callSubmitQuizApi())}):E.b.error(c.a.createElement(h.ErrorToast,{text:r})),new Error(e)}t.retryCount++,t.callSubmitQuizApi(),clearTimeout(t.responseSubmitRetryTimout)},7e3)}}))),l()(this,"handleAfterResponse",function(){var e=i()((function*(e,s){var n,r,o,i,a=null!==(n=null===(r=t.props)||void 0===r?void 0:r.assessmentProgressId)&&void 0!==n?n:null,l=null!==(o=null===(i=t.props)||void 0===i?void 0:i.assessmentId)&&void 0!==o?o:null;if(a&&l){var u,c;null!=e&&null!==(u=e.data)&&void 0!==u&&null!==(c=u.assessmentProgressDetails)&&void 0!==c&&c.isFinalUnitInAssessment?(yield P.a.updateProgress(a,{finished:!0,submissionMethod:"user_submitted"}),window.location.href=(new d.a.assessmentFinish).url.replace(":assessmentId",l)):window.location.href=(new d.a.assessmentInstructions).url.replace(":assessmentId",l)}else{var m,p,h=null==e||null===(m=e.data)||void 0===m?void 0:m.attemptNum;null!==(p=t.props)&&void 0!==p&&p.showQuestionsOnly?t.props.onSubmit():t.props.history.push((new d.a.unitSummary).url.replace(":unitLabel",t.state.unitDetails.unitId).replace(":attemptNum",h||t.state.attemptNum).replace(":userId",window.userInfo.userId))}}));return function(t,s){return e.apply(this,arguments)}}()),l()(this,"onMouseDown",()=>null),l()(this,"markOfflineQuestion",e=>{var t=O.default.cloneDeep(this.state.questions);t=t.map(t=>("file_upload"===t.contentType&&(t.attempted=e),t)),this.setState({questions:t})}),l()(this,"handlePdfUpload",e=>{var t,s=e.target.files[0];if(!["pdf"].some(e=>s.type.indexOf(e)>=0))return E.b.error(c.a.createElement(h.ErrorToast,{text:"Provided file type ".concat(s.type.replace("image/","")," not supported")})),!1;null!==(t=this.state)&&void 0!==t&&t.responseFileUploadUrl?(this.setState({pdfLoading:!0}),Object(h.uploadFileToCloud)(URL.createObjectURL(s),this.state.responseFileUploadUrl).then(e=>{"uploaded"===e.data&&this.setState({answerPdf:this.state.responseFileUploadUrl.split("?")[0],pdfLoading:!1,filesUploaded:!0,numAnswered:Number(this.state.numAnswered)+Number(this.state.numberOfOfflineQuestions)},()=>{this.markOfflineQuestion(!0)})}).catch(e=>{throw E.b.error(c.a.createElement(h.ErrorToast,{text:"Unable to upload PDF."})),this.setState({pdfLoading:!1}),new Error(e)})):console.error("No response PUT URL provided")}),l()(this,"handleRemovePdf",()=>{this.setState({answerPdf:"",filesUploaded:!1,numAnswered:Number(this.state.numAnswered)-Number(this.state.numberOfOfflineQuestions)},()=>{this.markOfflineQuestion(!1)})}),l()(this,"handlePdfImage",()=>{document.getElementById("soc-answer-pdf").click()}),l()(this,"setExtraTime",()=>{this.setState({extraTimeWarning:!0})}),l()(this,"getCurrentResponse",e=>{var t=O.default.cloneDeep(this.responses),s=O.default.find(t,{screenId:e.screenId});return null!=s&&s.response?s.response:null}),l()(this,"getCurrentQuesInfo",e=>{var t=O.default.cloneDeep(this.state.questions),s=O.default.find(t,{csUnitAssnId:e.csUnitAssnId});return s||null}),this.draftTimeOut=null,this.responseSubmitRetryTimout=null,this.retryCount=0,this.tabSetInterval=null,this.responses=[],this.state={questions:[],currentQ:null,numAnswered:null,numCorrect:null,numQs:null,visibleQuestions:[],responses:[],loading:!0,attemptNum:null,showModal:!1,quizTimer:null,hasOfflineQuestion:!1,answerPdf:null,pdfLoading:!1,filesUploaded:null,extraTimeWarning:!1,testAutomaticallySubmitted:!1,attemptsLimitExceeded:!1,showBanner:!0,visibilityState:"visible",tabLostCount:0,showScreenByScreen:!1,isCodingType:!1,isProctoringStarted:!1},this.WAITING_TIME=60,this.initialTime=performance.now(),this.currentProgress=10,this.showLoadingStuckHelp=!0,this.checkReloadInterval=null,this.progressSavingMsg="Your progress has been saved. You will be resumed from here only",this.connectivityErrorMsg="Couldn't load the test due to poor connectivity, Please try refreshing the page. ("+this.progressSavingMsg+")",this.restartBrowserErrorMsg="Please try refreshing the page, if it doesn't work then try restarting your browser. ("+this.progressSavingMsg+")",this.progressInfo={10:{displayMsg:this.connectivityErrorMsg,issue:"autoproctor.min.js file didn't load properly",refresh:!0},20:{displayMsg:this.connectivityErrorMsg,issue:"1. Blazeface model & JS files couldn't load properly",refresh:!0},30:{displayMsg:this.connectivityErrorMsg,issue:"Will show swal if browser not compatible or if setup-test-attempt API call fails",refresh:!1},40:{displayMsg:"",issue:"There is some problem in seeking the access of screen/camera/mic",refresh:!1},50:{displayMsg:this.restartBrowserErrorMsg,issue:"Some issue in Multiple monitor detection",refresh:!1},60:{displayMsg:this.restartBrowserErrorMsg,issue:"Some problem with Camera",refresh:!1},70:{displayMsg:this.connectivityErrorMsg,issue:"API request failed",refresh:!0},80:{displayMsg:this.connectivityErrorMsg,issue:"API called successfully and called initSocratease()",refresh:!0},90:{displayMsg:"Some issue in setting up the test, Please try refreshing the page. ("+this.progressSavingMsg+")",issue:"some socratease error",refresh:!0},100:{displayMsg:"Slow connectivity, Please wait for some time if it doesn't work then reload the page. ("+this.progressSavingMsg+")",issue:"Socratease.OnReady() worked",refresh:!0}},window.markApAsLoaded=()=>{var e=new CustomEvent("apLibraryLoaded");window.dispatchEvent(e)}}componentDidMount(){var e=this;return i()((function*(){document.querySelector(".soc-con-quiz-header__thumbnail")&&document.querySelector(".soc-con-quiz-header__thumbnail").length&&window.addEventListener("scroll",e.handleScroll);try{var t,n,r,o,a,l,u,d,m,p,w,f,v;window.addEventListener("scroll",e.handleScroll);var g=null!==(t=e.props)&&void 0!==t&&t.label?null===(n=e.props)||void 0===n?void 0:n.label:null===(r=e.props)||void 0===r?void 0:r.unitId,b=e.props.lookupKey?e.props.lookupKey:null,y=e.props.lookupKey2?e.props.lookupKey2:null,S=null!==(o=null===(a=e.props)||void 0===a?void 0:a.assessmentProgressId)&&void 0!==o?o:null,T="?unit_id=".concat(g).concat(S?"&ap_id=".concat(S):"").concat(b?"&lookup_key="+b:"").concat(y?"&lookup_key_2="+y:"");null!=A.socStorage.getItem("con.classroomLabel")&&"student"==window.userInfo.role&&(T="".concat(T,"&classroom_id=").concat(A.socStorage.getItem("con.classroomLabel")));var{data:C}=yield x.a.createProgressRecord(T);if(null!=C&&C.exceededMaxAttempts)return e.setState({attemptsLimitExceeded:!0,loading:!1}),!1;var O=!1;if(null!=C&&null!==(l=C.unitDetails)&&void 0!==l&&null!==(u=l.settings)&&void 0!==u&&null!==(d=u.proctor)&&void 0!==d&&d.proctorEnabled&&Object.values(null==C||null===(m=C.unitDetails)||void 0===m||null===(p=m.settings)||void 0===p||null===(w=p.proctor)||void 0===w?void 0:w.proctorSettings).length&&null!==(f=e.context)&&void 0!==f&&null!==(v=f.config)&&void 0!==v&&v.showQuizProctoringSettings&&(O=!0),O){var k,I,q,_,P,D,N,z="".concat(C.attemptDetails.userProgressId),R=null==C||null===(k=C.unitDetails)||void 0===k||null===(I=k.settings)||void 0===I||null===(q=I.proctor)||void 0===q?void 0:q.proctorSettings,{apDomainUrl:Q,apClientId:M,hashedTestAttemptId:L}=yield x.a.getHashedTestAttemptId(C.attemptDetails.userProgressId),U={tenantId:M,testAttemptId:z,hashedTestAttemptId:L,trackingOptions:j(j({audio:!1,numHumans:!1,tabSwitch:!1,photosAtRandom:!1,numPhotosAtRandom:5,captureSwitchedTab:!1,preventMultipleScreens:!1,testTakerPhoto:!1,forceCaptureSwitchedTab:!1,forcePreventMultipleScreens:!1,forceFullScreen:!1,previewVideo:!1,showCamPreview:!1},R),{},{recordScreen:!1}),testContainerId:"soc-lay-main",restrictConsole:!1,evidencePushInterval:5,userDetails:{},testDuration:null!==(_=null==C||null===(P=C.unitDetails)||void 0===P||null===(D=P.settings)||void 0===D||null===(N=D.timerSettings)||void 0===N?void 0:N.duration)&&void 0!==_?_:1200,domain:Q,showHowToVideo:!1};"undefined"!=typeof initAutoProctor?s.e(372).then(s.t.bind(null,937,7)).then(function(){var t=i()((function*(t){var{default:s}=t;window.$=s;var n=yield initAutoProctor(U);e.setState({autoProctorTest:n}),n.start()}));return function(e){return t.apply(this,arguments)}}()):window.addEventListener("apLibraryLoaded",function(){var t=i()((function*(t){s.e(372).then(s.t.bind(null,937,7)).then(function(){var t=i()((function*(t){var{default:s}=t;window.$=s;var n=yield initAutoProctor(U);e.setState({autoProctorTest:n}),n.start()}));return function(e){return t.apply(this,arguments)}}())}));return function(e){return t.apply(this,arguments)}}()),window.addEventListener("apStartTest",i()((function*(){$(".soc-lay-ctr").addClass("stw-bg-white"),yield x.a.updateProgress(C.attemptDetails.userProgressId,{updateStartedAt:!0}),e.initSetInitialState(C,O)}))),window.addEventListener("apProgressUpdate",e=>{if(null!==document.getElementById("rec-progress-text")){var t=e.detail;"show"===t?document.getElementById("rec-progress-text").innerHTML="<p>Setting Up AutoProctor</p>":"hide"===t&&(document.getElementById("rec-progress-text").innerHTML="<p>Setting The Test Up</p>"),incrementSetupProgBar()}}),window.incrementSetupProgBar=()=>{if(null!==document.getElementById("rec-progress-bar-percent")){var t=parseInt(document.getElementById("rec-progress-bar-percent").innerHTML)+10;e.currentProgress=t,document.getElementById("rec-progress-bar-percent").innerHTML=t,document.getElementById("rec-progress-bar").style.width=t+"%",e.initialTime=performance.now(),e.showLoadingStuckHelp=!0,e.checkReloadInterval||monitorTestLoadingStatus()}},window.monitorTestLoadingStatus=()=>{e.checkReloadInterval=setInterval((function(){Number((performance.now()-this.initialTime)/1e3)>this.WAITING_TIME&&this.showLoadingStuckHelp&&this.progressInfo[this.currentProgress]&&void 0!==this.progressInfo[currentProgress].displayMsg&&""!==this.progressInfo[currentProgress].displayMsg&&(clearInterval(this.checkReloadInterval),this.checkReloadInterval=null,alert(this.progressInfo[this.currentProgress].displayMsg),void 0!==this.progressInfo[this.currentProgress].refresh&&this.progressInfo[this.currentProgress].refresh&&window.location.reload())}),100)}}else e.initSetInitialState(C,O)}catch(t){throw E.b.error(c.a.createElement(h.ErrorToast,{text:"Failed to load quiz. Please try again"})),e.setState({loading:!1}),new Error(t)}}))()}componentWillUnmount(){clearInterval(this.draftTimeOut),clearTimeout(this.responseSubmitRetryTimout),clearInterval(this.tabSetInterval)}render(){var e,t,s,n,o,i,a,l,u,d,w,f,v,g,b,y,S,E,x,T,I,q,A,P,D,j,M,U,B,F,W,H,K,G,Y,V,$,J,X,Z,ee,te,se,ne,re,oe,ie,ae,le,ue,ce,de,me,pe,he,we,fe=!1;null!==(e=this.props)&&void 0!==e&&null!==(t=e.unitData)&&void 0!==t&&null!==(s=t.settings)&&void 0!==s&&null!==(n=s.proctor)&&void 0!==n&&n.proctorEnabled&&Object.values(null===(o=this.props)||void 0===o||null===(i=o.unitData)||void 0===i||null===(a=i.settings)||void 0===a||null===(l=a.proctor)||void 0===l?void 0:l.proctorSettings).length&&null!==(u=this.context)&&void 0!==u&&null!==(d=u.config)&&void 0!==d&&d.showQuizProctoringSettings&&(fe=!0);var ve=null!==(w=null===(f=this.context)||void 0===f||null===(v=f.config)||void 0===v?void 0:v.apVersion)&&void 0!==w?w:"2.7.2",ge=fe?c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,null,c.a.createElement("script",{src:"".concat(null!==(g=this.context)&&void 0!==g&&null!==(b=g.config)&&void 0!==b&&b.development?"https://ap-development.s3.ap-south-1.amazonaws.com":"https://cdn.autoproctor.co","/autoproctor.").concat(ve,".min.js"),onload:"markApAsLoaded()"}),c.a.createElement("link",{rel:"stylesheet",href:"".concat(null!==(y=this.context)&&void 0!==y&&null!==(S=y.config)&&void 0!==S&&S.development?"https://ap-development.s3.ap-south-1.amazonaws.com":"https://cdn.autoproctor.co","/autoproctor.").concat(ve,".min.css")})),c.a.createElement("div",{id:"proctor-feedback",style:{display:"none"},className:"stw-hidden stw-justify-center stw-items-center stw-bg-white stw-w-48 stw-h-10 stw-text-sm stw-ml-3 stw-shadow-md stw-rounded-xl"})):"";if(this.state.loading)return fe?c.a.createElement(c.a.Fragment,null,ge,this.state.isProctoringStarted?c.a.createElement(h.Loader,null):c.a.createElement("div",{id:"rec-loader-container",className:"stw-flex stw-items-center stw-justify-center stw-w-full stw-min-h-screen"},c.a.createElement("div",{id:"rec-loader-box__preload",className:"stw-flex stw-justify-center stw-flex-col stw-items-center stw-w-3/4 md:stw-w-2/5 stw-mb-44"},c.a.createElement("div",{className:"sec-text-clr stw-mb-2"},c.a.createElement("span",{id:"rec-progress-bar-percent"},"10"),"%"),c.a.createElement("div",{id:"rec-progress-text",className:"stw-mb-3 stw-font-semibold"}),c.a.createElement("div",{className:"stw-w-full stw-bg-gray-200 stw-mb-5"},c.a.createElement("div",{id:"rec-progress-bar",className:"stw-bg-blue-900 stw-text-xs stw-font-medium stw-text-blue-100 stw-text-center stw-leading-none stw-p-1",style:{width:"10%"}}))))):c.a.createElement(h.Loader,null);if(this.state.attemptsLimitExceeded)return c.a.createElement("div",{className:"stw-p-5"},"You have exceeded the maximum attempts for this Quiz.");var{metaData:{thumbnailUrl:be=""}}=(null===(E=this.state)||void 0===E?void 0:E.unitDetails)||{metaData:{}},ye={submitQuizResponses:this.submitQuizResponses,numQs:this.state.numQs,questions:this.state.questions,showOnlyUnattemptedQuestions:this.showOnlyUnattemptedQuestions,showWronglyAnsweredQs:this.showWronglyAnsweredQs,showRightlyAnsweredQs:this.showRightlyAnsweredQs,getUnattemptedQuestions:this.getUnattemptedQuestions,getCorrectlyAnswered:this.getCorrectlyAnswered,getWrongAnswered:this.getWrongAnswered,getAttemptedQs:this.getAttemptedQs,instantFeedback:!1,filterReset:this.filterReset,showAttemptedQs:this.showAttemptedQs,unitDetails:this.state.unitDetails,quizTimer:this.state.quizTimer,getMarkedForReviewQs:this.getMarkedForReviewQs,showMarkedForReviewQs:this.showMarkedForReviewQs,setExtraTime:this.setExtraTime,testAutomaticallySubmitted:this.state.testAutomaticallySubmitted,selectedFilter:this.state.selectedFilter,showScreenByScreen:this.state.showScreenByScreen},Se=null!==(x=this.props)&&void 0!==x&&x.showQuestionsOnly?"stw-hidden":"",Ee=null!==(T=this.props)&&void 0!==T&&null!==(I=T.unitData)&&void 0!==I&&null!==(q=I.courseSettings)&&void 0!==q&&q.showSidebar?"stw-top-px":null!==(A=this.context)&&void 0!==A&&null!==(P=A.ui)&&void 0!==P&&null!==(D=P.navbar)&&void 0!==D&&D.show?"stw-top-16":"stw-top-0",xe=O.default.cloneDeep(this.state.visibleQuestions),Te=null!==(j=null===(M=this.props)||void 0===M?void 0:M.assessmentProgressId)&&void 0!==j?j:null;return c.a.createElement(c.a.Fragment,null,ge,this.state.showScreenByScreen?c.a.createElement("div",{className:"soc-con-quiz__questions"},this.state.isCodingType?c.a.createElement(Q,{handler:1,screenDetails:this.state.screenDetails,unitDetails:this.state.unitDetails,attemptDetails:this.state.attemptDetails,quizTimer:this.state.quizTimer,autoProctorTest:null==this||null===(U=this.state)||void 0===U?void 0:U.autoProctorTest,setResponses:this.setResponses,assessmentProgressId:Te,assessmentId:null===(B=this.props)||void 0===B?void 0:B.assessmentId,responses:this.responses,lookupKey:this.props.lookupKey,lookupKey2:this.props.lookupKey2}):"video_interview"===this.state.unitDetails.type?c.a.createElement(z,{handler:1,screenDetails:this.state.screenDetails,unitDetails:this.state.unitDetails,attemptDetails:this.state.attemptDetails,autoProctorTest:null==this||null===(F=this.state)||void 0===F?void 0:F.autoProctorTest,assessmentProgressId:Te,assessmentId:null===(W=this.props)||void 0===W?void 0:W.assessmentId,disableCopyPaste:null===(H=this.state.unitDetails)||void 0===H||null===(K=H.settings)||void 0===K?void 0:K.disableCopyPaste,lookupKey:this.props.lookupKey,lookupKey2:this.props.lookupKey2}):c.a.createElement(N,{handler:1,screenDetails:this.state.screenDetails,unitDetails:this.state.unitDetails,autoProctorTest:null==this||null===(G=this.state)||void 0===G?void 0:G.autoProctorTest,attemptDetails:this.state.attemptDetails,assessmentProgressId:Te,assessmentId:null===(Y=this.props)||void 0===Y?void 0:Y.assessmentId,disableCopyPaste:null===(V=this.state.unitDetails)||void 0===V||null===($=V.settings)||void 0===$?void 0:$.disableCopyPaste,lookupKey:this.props.lookupKey,lookupKey2:this.props.lookupKey2})):c.a.createElement(c.a.Fragment,null,!(null!==(J=window)&&void 0!==J&&null!==(X=J.userInfo)&&void 0!==X&&X.isRegistered)&&(null==this||null===(Z=this.state)||void 0===Z?void 0:Z.showBanner)&&(null==this||null===(ee=this.props)||void 0===ee?void 0:ee.isCa)&&c.a.createElement(k.default,{text:"To be able to share this with others, you need to be logged in",onCloseClick:()=>{this.setState({showBanner:!1})}}),c.a.createElement("div",{className:"soc-con-quiz-ctr"},c.a.createElement("div",{className:"stw-flex ".concat(Ee," stw-pb-4 stw-pt-2 stw-z-10 stw-items-center stw-bg-white stw-w-full stw-justify-between stw-sticky ").concat(this.state.showScreenByScreen?"stw-hidden":Se," soc-con-quiz__header")},be?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"stw-hidden lg:stw-flex stw-object-contain stw-h-auto soc-con-quiz-header__left"},c.a.createElement("img",{className:"stw-w-20 stw-h-20 md:stw-w-40 md:stw-h-40 stw-object-cover stw-rounded soc-con-quiz-header__thumbnail",src:be})),c.a.createElement("div",{className:"stw-relative stw-w-11/12 stw-ml-5 md:stw-ml-8 stw-flex stw-flex-col stw-justify-center soc-con-quiz-header__right"},c.a.createElement("div",{className:"stw-flex stw-justify-between stw-items-center stw-mb-2 md:stw-mb-3"},c.a.createElement("span",{className:"stw-text-base md:stw-text-3xl stw-overflow-ellipsis soc-con-quiz-header__title"},null===(te=this.state)||void 0===te||null===(se=te.unitDetails)||void 0===se?void 0:se.title),!(null===(ne=this.state)||void 0===ne||null===(re=ne.attemptDetails)||void 0===re||!re.duration)&&!this.state.testAutomaticallySubmitted&&c.a.createElement("span",{className:"stw-flex stw-justify-center stw-items-center stw-h-9 md:stw-hidden stw-bg-white stw-shadow-md stw-rounded-xl stw-w-28 soc-con-quiz-header__timer--mob"},c.a.createElement(L,{quizTimer:this.state.quizTimer,submitQuizResponses:this.submitQuizResponses,unitDetails:this.state.unitDetails,setExtraTime:this.setExtraTime}))),c.a.createElement(m.default,{onMouseDown:this.onMouseDown,numUnits:this.state.numQs,numBottomForegroundUnits:this.state.numAnswered,numTopForegroundUnits:this.state.numCorrect,type:"quiz"}))):c.a.createElement("div",{className:"stw-w-full stw-flex stw-flex-col soc-con-quiz-header__title-timer"},c.a.createElement("div",{className:"stw-flex stw-justify-between stw-items-end stw-mb-2 md:stw-mb-3"},c.a.createElement("span",{className:"stw-text-base md:stw-text-xl stw-overflow-ellipsis soc-con-quiz-header__title"},null===(oe=this.state)||void 0===oe||null===(ie=oe.unitDetails)||void 0===ie?void 0:ie.title),!(null===(ae=this.state)||void 0===ae||null===(le=ae.attemptDetails)||void 0===le||!le.duration)&&!this.state.testAutomaticallySubmitted&&c.a.createElement("span",{className:"stw-flex stw-justify-center stw-items-center stw-h-9 md:stw-hidden stw-bg-white stw-shadow-md stw-rounded-xl stw-w-28 soc-con-quiz-header__timer--mob"},c.a.createElement(L,{quizTimer:this.state.quizTimer,submitQuizResponses:this.submitQuizResponses,unitDetails:this.state.unitDetails,setExtraTime:this.setExtraTime}))),c.a.createElement(m.default,{onMouseDown:this.onMouseDown,numUnits:this.state.numQs,numBottomForegroundUnits:this.state.numAnswered,numTopForegroundUnits:this.state.numCorrect,type:"quiz"}))),c.a.createElement("div",{className:"stw-mx-auto stw-my-0 stw-px-2 md:stw-px-4 stw-text-base stw-flex stw-flex-col"},this.state.extraTimeWarning&&c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{variant:"danger",className:"stw-text-red-700 soc-blinking"},"Your time is up ! Please submit the test as soon as possible."))),c.a.createElement("div",{className:"stw-flex ".concat(be?"stw-mt-4 md:stw-mt-14":"stw-mt-4"," soc-con-quiz-con")},c.a.createElement("div",{className:"".concat(null!==(ue=this.props)&&void 0!==ue&&ue.showQuestionsOnly||this.state.showScreenByScreen&&(null==ye||!ye.quizTimer||this.state.isCodingType)?"stw-w-full":"stw-w-full md:stw-w-8/12"," ")},c.a.createElement(c.a.Fragment,null,(null===(ce=this.state)||void 0===ce||null===(de=ce.unitDetails)||void 0===de||null===(me=de.metaData)||void 0===me?void 0:me.instructions)&&c.a.createElement("div",{className:"soc-con-quiz__instruction stw-mb-6"},c.a.createElement("div",{className:"soc-quiz-card__ques-title stw-mb-2"},c.a.createElement("b",null,"Instructions")),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:null===(pe=this.state)||void 0===pe||null===(he=pe.unitDetails)||void 0===he||null===(we=he.metaData)||void 0===we?void 0:we.instructions}})),c.a.createElement("div",{className:"soc-con-quiz__questions"},xe.length?xe.map((e,t)=>{var s,n,r,o,i,a;if("question_bank"===(null===(s=this.state.unitDetails)||void 0===s?void 0:s.type)&&null!=e&&null!==(n=e.contents)&&void 0!==n&&n.timer&&(null==e||null===(r=e.contents)||void 0===r?void 0:r.timer)>0){var l=e.contents.timer,u=Math.floor(l/60),d=Math.floor(l%60);null==e||e.contents.tags.push(c.a.createElement(c.a.Fragment,null,c.a.createElement(C.w,{className:"stw-w-4 stw-h-4 stw-mr-1"})," ",u<10?"0"+u:u," :"," ",d<10?"0"+d:d))}return c.a.createElement(R,{key:e.screenId,currentQuestion:e,quesIndex:t,updateQuestionsStatus:this.updateQuestionsStatus,unitDetails:this.state.unitDetails,setResponses:this.setResponses,instantFeedback:!1,showQuestionsOnly:null===(o=this.props)||void 0===o?void 0:o.showQuestionsOnly,disableCopyPaste:null===(i=this.state.unitDetails)||void 0===i||null===(a=i.settings)||void 0===a?void 0:a.disableCopyPaste,response:this.getCurrentResponse(e)})}):c.a.createElement("div",{className:"stw-mb-5"},"No Questions are available."),c.a.createElement("div",{className:"stw-mb-5 stw-hidden",id:"soc-quiz-no-filter-info"},"No results found.")),!this.state.showScreenByScreen&&c.a.createElement("div",{className:"stw-flex stw-justify-center stw-items-center soc-con-quiz__action--submit"},c.a.createElement("div",null,c.a.createElement(h.MemoizedCommonAction,{loading:this.state.loading||this.state.pdfLoading||!this.state.questions.length,submitBtnText:window.socTR.Submit,submitOperation:this.submitQuiz,btnSize:"stw-text-white stw-text-base stw-py-3 stw-px-8 stw-rounded stw-bg-purple-600 hover:stw-bg-purple-800 active:stw-bg-purple-800 disabled:stw-bg-purple-300 focus:stw-bg-purple-600 focus:stw-rounded focus:stw-border-purple-50 focus:stw-border"}))))),(this.state.showScreenByScreen&&(null==ye?void 0:ye.quizTimer)&&!this.state.isCodingType||!this.state.showScreenByScreen)&&c.a.createElement("div",{className:"stw-hidden md:stw-w-4/12 stw-ml-0 md:stw-pl-6 ".concat("stw-hidden"===Se?"md:stw-hidden":"md:stw-block"," soc-con-quiz__sidebar")},c.a.createElement(p.SideBar,r()({},ye,{isTitleWithThumb:!!be})))),c.a.createElement("div",{className:"stw-flex stw-justify-center stw-items-center stw-shadow stw-fixed stw-right-7 stw-bottom-11 stw-bg-gray-900 stw-rounded-full stw-text-white\tstw-p-2 stw-w-10 stw-h-10 md:stw-hidden soc-con-quiz__filter_icon--mob",onClick:this.handleShow},c.a.createElement(C.K,{className:"stw-w-5 stw-h-5"})))),!!this.state.questions.length&&this.state.showModal&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"stw-fixed stw-mt-10 stw-z-10 stw-inset-0 stw-overflow-y-auto ".concat(Se),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},c.a.createElement("div",{className:"stw-flex stw-items-end stw-justify-center stw-min-h-screen stw-pt-4 stw-px-4 stw-pb-20 stw-text-center sm:stw-block sm:stw-p-0"},c.a.createElement("div",{className:"stw-fixed stw-inset-0 stw-bg-gray-500 stw-bg-opacity-75 stw-transition-opacity","aria-hidden":"true"}),c.a.createElement("span",{className:"sm:stw-align-middle sm:stw-h-screen","aria-hidden":"true"},"​"),c.a.createElement("div",{className:"stw-transform stw-inline-block stw-align-bottom stw-bg-white stw-rounded-lg stw-px-4 stw-pt-5 stw-pb-4 stw-text-left stw-overflow-hidden stw-shadow-xl stw-transition-all sm:stw-my-8 sm:stw-align-middle sm:stw-max-w-lg sm:stw-w-full sm:stw-p-6"},c.a.createElement("div",{className:"stw-absolute stw-top-0 stw-right-0 stw-pt-4 stw-pr-4"},c.a.createElement("button",{type:"button",onClick:this.handleShow,className:"stw-bg-white stw-rounded-md stw-text-gray-400 hover:stw-text-gray-500 focus:stw-outline-none focus:stw-ring-2 focus:stw-ring-offset-2 focus:stw-ring-indigo-500"},c.a.createElement("span",{className:"stw-sr-only"},"Close"),c.a.createElement("svg",{className:"stw-h-6 stw-w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},c.a.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),c.a.createElement("div",{className:"stw-mt-7"},c.a.createElement(p.SideBar,r()({},ye,{handleClose:this.handleClose,hideTimer:!0,isTitleWithThumb:!1})))))))))}}M.contextType=b.SettingsContext,t.default=M;var L=e=>{var t,s,n=null===(t=e.unitDetails)||void 0===t?void 0:t.settings,[r,o]=Object(u.useState)(!0);Object(u.useEffect)(()=>{r||(n.autoSubmit?e.submitQuizResponses("timeout"):n.autoSubmit||e.setExtraTime())},[r]);var i=e=>{var{remainingTime:t}=e,s=document.querySelector(".soc-con-quiz-header__timer--mob");return(t<=0&&s&&0!==(null==s?void 0:s.offsetHeight)&&n.autoSubmit&&r||t<=0&&s&&0!==(null==s?void 0:s.offsetHeight)&&!n.autoSubmit&&r)&&o(!1),c.a.createElement("div",{className:"soc-quiz-timer"},c.a.createElement("div",{className:"value ".concat(t?"":"soc-blinking")},t?Object(v.secondsToHMS)(t):"Time's Up!"))};return e.quizTimer<=0&&n.autoSubmit&&document.querySelector(".soc-con-quiz-header__timer--mob")&&0!==(null===(s=document.querySelector(".soc-con-quiz-header__timer--mob"))||void 0===s?void 0:s.offsetHeight)?(e.submitQuizResponses("timeout"),null):c.a.createElement(y.CountdownCircleTimer,{isPlaying:r,duration:e.quizTimer<=0?0:Number(e.quizTimer),colors:[["#7873EA",.33],["#F7B801",.33],["#A30000"]],onComplete:()=>[!1,1e3]},i)}},926:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s.n(n),o=s(2),i=s.n(o);class a extends o.Component{constructor(){super(...arguments),r()(this,"onMouseDown",e=>{this.props.onMouseDown(e)}),r()(this,"onRefreshBtnClick",()=>{location.reload()})}getBarDimensions(){var{numUnits:e,numTopForegroundUnits:t=0,numBottomForegroundUnits:s,topForegroundLeftMargin:n=0,topBackgroundLeftMargin:r=0,bottomFgCol:o=null,topFgCol:i=null,bcgCol:a=null}=this.props,l={},u={width:t/e*100+"%",marginLeft:n/e*100+"%"},c={width:s/e*100+"%",marginLeft:r};return o&&(c.backgroundColor=o),i&&(u.backgroundColor=i),a&&(l.backgroundColor=a),{topFgStyle:u,bottomFgStyle:c,backgroundStyle:l}}render(){var{topFgStyle:e,bottomFgStyle:t,backgroundStyle:s}=this.getBarDimensions();return i.a.createElement("div",{className:"stw-flex stw-justify-between stw-items-center soc-progressbar-main-container"},i.a.createElement("div",{className:"stw-w-full"},i.a.createElement("div",{className:"stw-border-0 stw-relative soc-progressbar-container",onMouseDown:this.onMouseDown.bind(this)},i.a.createElement("hr",{className:"stw-bg-progressbarCurrent stw-duration-700 stw-h-2 stw-rounded stw-absolute stw-border-0 progressbar-fill soc-con-quiz-progbar-main-ctr__current",id:"progbar-bottom-fg",style:t}),i.a.createElement("hr",{className:"stw-bg-progressbarCurrent stw-duration-700 stw-h-2 stw-rounded stw-absolute progressbar-fill soc-con-quiz-progbar-main-ctr__current",style:e}),i.a.createElement("hr",{className:"stw-bg-progressbar stw-duration-700 stw-h-2 stw-rounded stw-border-0\tprogressbar-fill soc-con-quiz-progbar-main-ctr__empty",style:s}))))}}t.default=a},927:function(e,t,s){"use strict";s.r(t),s.d(t,"saveAsDraft",(function(){return o})),s.d(t,"loadUnsavedData",(function(){return i}));var n=s(352),r=s.n(n),o=(e,t,s)=>{try{r.a.put(e,JSON.stringify(t),{headers:{"Content-Type":"text/plain; charset=utf-8","x-amz-acl":"public-read"}}).then(e=>{s()})}catch(e){throw new Error(e)}},i=e=>new Promise((t,s)=>{r.a.get("".concat(e,"?v=").concat(new Date)).then(e=>{var{data:s}=e;t(s)}).catch(e=>{t({})})})},928:function(e,t,s){"use strict";s.r(t),s.d(t,"SideBar",(function(){return c})),s.d(t,"SidebarBox",(function(){return d}));var n=s(2),r=s.n(n),o=s(272),i=s(242),a=s(354),l=s(357),u=s(7),c=e=>{var t,s,c,m,p,h,[w,f]=Object(n.useState)(!0),[v,g]=Object(n.useState)(""),b=t=>{var{value:s,label:n}=t;"unattempted"===s?e.showOnlyUnattemptedQuestions(s):"wrong"===s?e.showWronglyAnsweredQs(s):"right"===s?e.showRightlyAnsweredQs(s):"attempted"===s?e.showAttemptedQs(s):"marked"===s?e.showMarkedForReviewQs(s):e.filterReset(),e.handleClose&&e.handleClose()},y=()=>{var t=[];return t.push(r.a.createElement("div",{key:"listQs",className:"stw-cursor-pointer stw-flex stw-flex-wrap stw-content-between focus-within:soc-quiz-sidebar__grid "},e.questions.map((t,s)=>r.a.createElement("div",{key:s+1,onClick:s=>{var n,r;n=t.screenId,(r=document.getElementById("question-"+n))&&r.scrollIntoView({block:"center"}),e.handleClose&&e.handleClose()},className:"stw-flex stw-relative stw-w-9 stw-h-9 stw-box-content stw-rounded-md stw-items-center stw-justify-center stw-border stw-bg-opacity-10 stw-m-1 md:stw-m-1.5 lg:stw-m-2 soc-quiz-sidebar__grid-elem ".concat(t.attempted?" stw-border-green-400 stw-bg-green-500":" stw-border-blue-500 stw-bg-blue-500"," pointer")},s+1,t.markedForReview&&r.a.createElement(i.d,{className:"stw-rounded-md stw-absolute stw-h-6 stw-w-4 stw-fill-current stw-text-yellow-600 soc-quiz-sidebar__grid-elem-bookmark",style:{top:"-6px",right:"-2px"}}))))),t},S=(c=[],m=[{label:"All",value:""},{label:"Answered",value:"attempted"},{label:"Unanswered",value:"unattempted"},{label:"Marked For Review",value:"marked"}],p=r.a.createElement(o.default,{isSearchable:!0,options:m,onChange:b,value:null!==(s=u.default.find(m,{value:e.selectedFilter}))&&void 0!==s?s:{value:"",label:"All"},placeholder:"Select Filter"}),c.push(p),c),E=((h=[]).push(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"soc-quiz-sidebar__legends"},r.a.createElement("p",{key:"Answered",className:"stw-flex stw-mb-1"},r.a.createElement("span",{className:"stw-w-3 stw-h-3 stw-my-auto stw-mx-1 stw-flex  stw-rounded-full stw-border-2 stw-border-green-400 soc-quiz-sidebar__legend-icon"}),"Answered: ",e.getAttemptedQs().length),r.a.createElement("p",{key:"Unanswered",className:"stw-flex stw-mb-1"},r.a.createElement("span",{className:"stw-w-3 stw-h-3 stw-my-auto stw-mx-1 stw-flex  stw-rounded-full stw-border-2 stw-border-blue-500 soc-quiz-sidebar__legend-icon "}),"Unanswered: ",e.getUnattemptedQuestions().length),r.a.createElement("p",{key:"Marked",className:"stw-flex stw-mb-1"},r.a.createElement(i.d,{className:"stw-w-3 stw-h-4 stw-my-auto stw-mx-1 stw-border-green-400 stw-text-yellow-600 soc-quiz-sidebar__legend-icon"}),"Marked For Review: ",e.getMarkedForReviewQs().length)),r.a.createElement("div",{className:"stw-mt-3"},y()))),h),x=null==e||null===(t=e.unitDetails)||void 0===t?void 0:t.settings,T=document.querySelector(".soc-con-quiz-header__timer--mob"),C=T&&T.offsetHeight>0;Object(n.useEffect)(()=>{w||C||(x.autoSubmit?e.submitQuizResponses("timeout"):x.autoSubmit||e.setExtraTime())},[w]);var O=e=>{var{remainingTime:t}=e;return(t<=0&&x.autoSubmit&&!C&&w||t<=0&&!x.autoSubmit&&!C&&w)&&f(!1),r.a.createElement("div",{className:"soc-quiz-timer"},r.a.createElement("div",{className:"value ".concat(w&&t?"":"soc-blinking")},w&&t?Object(l.secondsToHMS)(t):"Time's Up!"))};return null!=e&&e.quizTimer&&e.quizTimer<=0&&x.autoSubmit&&!C?(e.submitQuizResponses("timeout"),null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{top:e.isTitleWithThumb?"250px":"160px"},className:"soc-quiz-sidebar-wrapper stw-sticky ".concat(e.isTitleWithThumb?"soc-quiz-sidebar-wrapper-top":""," ").concat(null!=e&&e.hideTimer?" stw-w-full":"")},!e.testAutomaticallySubmitted&&!(null==e||!e.quizTimer)&&!isNaN(e.quizTimer)&&!(null!=e&&e.hideTimer)&&r.a.createElement(d,{key:"timer",text:"Time Left",sidebarContent:r.a.createElement(a.CountdownCircleTimer,{isPlaying:w,duration:e.quizTimer<=0?0:Number(e.quizTimer),colors:[["#7873EA",.33],["#F7B801",.33],["#A30000"]],onComplete:()=>[!1,1e3],size:120,strokeWidth:8},O),customClasses:"stw-pt-4 soc-con-quiz-timer--lg",sidebarHeadingClasses:"stw-text-sm md:stw-text-base stw-mb-3",sidebarContentClasses:"stw-flex stw-justify-center"}),!!e.questions.length&&!(null!=e&&e.showScreenByScreen)&&r.a.createElement(d,{key:"filter",text:"Filter",customClasses:"stw-pt-4 soc-con-quiz-filter--lg",sidebarHeadingClasses:"stw-text-sm md:stw-text-base stw-mb-3",sidebarContent:S}),!!e.questions.length&&!(null!=e&&e.showScreenByScreen)&&r.a.createElement(d,{key:"stw-grid",text:"Questions",customClasses:"stw-text-xs md:stw-text-sm stw-max-h-96 stw-overflow-y-auto soc-con-quiz-ques-list--lg",sidebarHeadingClasses:"stw-text-sm md:stw-text-base stw-mb-3",sidebarContent:E})))},d=e=>{var{text:t,sidebarContent:s}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:t,className:"stw-bg-white stw-px-6 stw-pt-4 stw-pb-7 stw-mb-6 stw-border stw-rounded-xl stw-border-gray-200 stw-shadow-sm stw-justify-between ".concat(e.customClasses&&e.customClasses)},r.a.createElement("h5",{className:"".concat(e.sidebarHeadingClasses&&e.sidebarHeadingClasses)},t),r.a.createElement("div",{className:"".concat(e.sidebarContentClasses&&e.sidebarContentClasses)},s)))}}}]);